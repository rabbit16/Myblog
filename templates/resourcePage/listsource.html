{% extends 'base/base_article.html' %}
{% load static %}

{% block link %}
    <link href="../../static/css/base.css" rel="stylesheet">
    <link href="../../static/css/main.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/code.css' %}">
    <!--[if lt IE 9]>

{% endblock %}
{% block script %}
     <script src="../../static/js/modernizr.js"></script>
    <![endif]-->
    <script type="text/javascript" src="../../static/js/jquery.js"></script>
    <script src="../../static/js/shang.js"></script>
{% endblock %}

{% block wrapper %}
    <div id="wrapper">
    {% block header %}
    <header>
    <div class="headtop"></div>
    <div class="contenttop">
      <div class="logo f_l">å…”å­ğŸ°</div>
      <div class="search f_r">
        <form action="/e/search/index.php" method="post" name="searchform" id="searchform">
          <input name="keyboard" id="keyboard" class="input_text" value="è¯·è¾“å…¥å…³é”®å­—" style="color: rgb(153, 153, 153);" onfocus="if(value=='è¯·è¾“å…¥å…³é”®å­—'){this.style.color='#000';value=''}" onblur="if(value==''){this.style.color='#999';value='è¯·è¾“å…¥å…³é”®å­—'}" type="text">
          <input name="show" value="title" type="hidden">
          <input name="tempid" value="1" type="hidden">
          <input name="tbname" value="news" type="hidden">
          <input name="Submit" class="input_submit" value="æœç´¢" type="submit">
        </form>
      </div>
      <div class="blank"></div>
      <nav>
        <div  class="navigation">
          <ul class="menu">
              {% block header_li %}
                <li><a href="{% url 'index:enter' %}">ç½‘ç«™é¦–é¡µ</a></li>
                <li><a href="{% url 'resource:downloadP' %}">ç½‘ç«™èµ„æº</a>
                </li>
                <li><a href="{% url 'notification:noti' %}">ç½‘ç«™å…¬å‘Š</a>
                </li>
                  <li><a href="{% url 'blog:blog' %}">åšå®¢é¦–é¡µ</a> </li>
                <li><a href="{% url 'blog:articles' %}">æŠ€æœ¯æ–‡ç« </a> </li>
                <li><a href="404.html">ç»™æˆ‘ç•™è¨€</a> </li>

              {% endblock %}

          </ul>
        </div>
      </nav>
  <SCRIPT type=text/javascript>
	// Navigation Menu
	$(function() {
		$(".menu ul").css({display: "none"}); // Opera Fix
		$(".menu li").hover(function(){
			$(this).find('ul:first').css({visibility: "visible",display: "none"}).slideDown("normal");
		},function(){
			$(this).find('ul:first').css({visibility: "hidden"});
		});
	});
</SCRIPT>
    </div>
  </header>
    {% endblock %}
    {% block container %}
            <div class="container">
  <div class="con_content">
    <div class="about_box">
      <h2 class="nh1"><span>æ‚¨ç°åœ¨çš„ä½ç½®æ˜¯ï¼š<a href="/" target="_blank">ç½‘ç«™é¦–é¡µ</a>>><a href="#" target="_blank">ç½‘ç«™èµ„æºç›®å½•</a></span><b>ç½‘ç«™èµ„æºç›®å½•</b></h2>
      <div class="lispic">
        <ul>
            {% for resource in resources %}
{#                <li><a href="javascript:void(0)" onclick="downloadFile('{{ resource.img_url }}', {{ resource.id }}, '{{ resource.title }}', '{{ resource.type }}')" id="{{ resource.id }}"><img src="{{ resource.source }}"><span>{{ resource.title }}</span></a></li>#}
                <li><a href="{% url 'resource:download' %}?source_id={{ resource.id }}" id="{{ resource.id }}"><img src="{{ resource.source }}"><span>{{ resource.title }}</span></a></li>
            {% endfor %}

        {% block script_tag %}
            <script type="text/javascript">
                {#console.log("wolaile")#}
                function downloadFile(source_url, source_id, url, type) {
                    let SdataParams = {
                        source_ur: source_url,
                        source_id: source_id,
                        title: url,
                        type: type
                    }
                    $.ajax({
                        url: "download",
                      // è¯·æ±‚æ–¹å¼
                      type: "POST",
                      data: JSON.stringify(SdataParams),
                      // è¯·æ±‚å†…å®¹çš„æ•°æ®ç±»å‹ï¼ˆå‰ç«¯å‘ç»™åç«¯çš„æ ¼å¼ï¼‰
                      contentType: "application/json; charset=utf-8",
                      // å“åº”æ•°æ®çš„æ ¼å¼ï¼ˆåç«¯è¿”å›ç»™å‰ç«¯çš„æ ¼å¼ï¼‰
                      dataType: "json",
                    }).done(function (res) {

                    })

                }
            </script>
        {% endblock %}
        </ul>
      </div>
{#    {{ page_next }} = {{ page_num }} + 1#}
      <div class="pagelist">é¡µæ¬¡ï¼š{{ now_page }}/{{ page_num }}é¡µ&nbsp <input id="goToPage" class="jump" type="text" style="width: 30px;height: 10px;"><a href="javascript:void(0)" onclick="goPage()" id="go">ç‚¹å‡»è·³è½¬</a> æ¯é¡µ{{ page_every_show }}æ¡ æ€»æ•°{{ all_num }}<a href="{% url 'resource:resource_list' tag_name=tag_name %}?page_down=1">é¦–é¡µ</a><a href="{% url 'resource:resource_list' tag_name=tag_name%}?page_down={{ now_page }}">ä¸Šä¸€é¡µ</a><a href="{% url 'resource:resource_list' tag_name=tag_name%}?page_up={{ now_page }}">ä¸‹ä¸€é¡µ</a><a href="{% url 'resource:resource_list' tag_name=tag_name %}?page_up={{ page_num }}">å°¾é¡µ</a></div>
    </div>
  {% block script_next %}
      <script type="text/javascript">
        function goPage() {
                let page = Number(document.getElementById('goToPage').value);
                window.location.href = "?page_to=" + page
            }
            $(function(){
              $(document).keypress(function (e) {
                if (e.keyCode == 13){
                    goPage()
                }
                  //do something
             })
         });
      </script>
  {% endblock %}
  </div>

</div>
    {% endblock %}
    {% block comment %}
        <div class="comment" style="position: relative; height: 180px;"></div>
    {% endblock %}
</div>
<!--ç™¾åº¦æ¨é€ä»£ç -->
{% endblock %}

